
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://dram1964.github.com/cloudarchitect/azure/app_service/app_service/">
      
      
        <link rel="prev" href="../../afc/costs/">
      
      
        <link rel="next" href="../flask_app_service_part_one/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>App Service Overview - Cloud Architecture notes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#app-service-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Cloud Architecture notes" class="md-header__button md-logo" aria-label="Cloud Architecture notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cloud Architecture notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              App Service Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Cloud Architecture notes" class="md-nav__button md-logo" aria-label="Cloud Architecture notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Cloud Architecture notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    IT Operations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            IT Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/soar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SOAR
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Azure
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Azure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AZ104 Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli_commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CLI Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure AD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../compute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Compute
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../keyvault/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Key Vault
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Azure Fundamentals
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Azure Fundamentals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../afc/core_concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../afc/core_services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../afc/core_management_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Management Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../afc/security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../afc/governance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Governance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../afc/costs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Costs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" checked>
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    App Service
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            App Service
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    App Service Overview
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    App Service Overview
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#app-service-plans" class="md-nav__link">
    <span class="md-ellipsis">
      App Service Plans
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#app-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      App Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-and-authorisation" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication and Authorisation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#networking" class="md-nav__link">
    <span class="md-ellipsis">
      Networking
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-application-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Application Settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-general-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring General Settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-path-mappings" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Path Mappings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diagnostic-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Diagnostic Logging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-certificates" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Certificates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feature-flags" class="md-nav__link">
    <span class="md-ellipsis">
      Feature Flags
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autoscaling" class="md-nav__link">
    <span class="md-ellipsis">
      Autoscaling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-slots" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Slots
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flask_app_service_part_one/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    App Service Deplyment: Part 1
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kusto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Monitor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Networking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_12" >
        
          
          <label class="md-nav__link" for="__nav_3_12" id="__nav_3_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Databases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_12">
            <span class="md-nav__icon md-icon"></span>
            Databases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/postgresql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PostgreSQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../db/cosmosdb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CosmosDB
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Machine Learning
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Devops
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Devops
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/devops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/git_commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/github_actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Github Actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/porter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Porter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/cloudinit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cloud Init
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Terraform
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Terraform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/terraform/intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intro
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/terraform/blocks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blocks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/terraform/variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/terraform/meta/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Meta-Arguments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/terraform/functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/terraform/provisioner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Provisioners
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/terraform/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../devops/terraform/state/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Remote State
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/bash_scripting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bash Scripting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/awk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Awk
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Performance
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Databricks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Databricks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databricks/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databricks/fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Databbricks Lakehouse Fundamentals
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/venv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    venv
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Pandas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Pandas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/pandas/data_frame_basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DataFrame Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/pandas/data_wrangling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Wrangling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/pandas/data_aggregation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Aggregation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/pandas/data_visualisation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visualisation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/pandas/statistics_101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statistics 101
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/jupyter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jupyter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#app-service-plans" class="md-nav__link">
    <span class="md-ellipsis">
      App Service Plans
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#app-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      App Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-and-authorisation" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication and Authorisation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#networking" class="md-nav__link">
    <span class="md-ellipsis">
      Networking
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-application-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Application Settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-general-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring General Settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-path-mappings" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Path Mappings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diagnostic-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Diagnostic Logging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-certificates" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Certificates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feature-flags" class="md-nav__link">
    <span class="md-ellipsis">
      Feature Flags
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autoscaling" class="md-nav__link">
    <span class="md-ellipsis">
      Autoscaling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-slots" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Slots
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="app-service-overview">App Service Overview</h1>
<h2 id="app-service-plans">App Service Plans</h2>
<p>App Service Plans defines:</p>
<ul>
<li>Region</li>
<li>Number of VM instances</li>
<li>Size of VM instances</li>
</ul>
<p>All applications in the plan will run all resources defined by the plan. </p>
<p>Pricing Tier Categories</p>
<ul>
<li>Shared Compute (Free and Shared): resource pools are shared with other customers. Intended for development and testing only. Apps are assigned CPU quotas (in minutes) and cannot scale out</li>
<li>Dedicated Compute (Basic, Standard, Premium, PremiumV2, PremiumV3): run on dedicated VMs. Only apps in the same Service Plan share resources. Higher Tiers provide more VMs for scale-out</li>
<li>Isolated: adds dedicated VNet to dedicated VMs. Provides maximum scale-out capabilities</li>
<li>Consumption: only available to Function Apps</li>
</ul>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Free</th>
<th>Shared</th>
<th>Basic</th>
<th>Standard</th>
<th>Premium</th>
<th>Isolated</th>
</tr>
</thead>
<tbody>
<tr>
<td>Usage</td>
<td>DEV/Test</td>
<td>DEV/Test</td>
<td>DEV/Test</td>
<td>Production</td>
<td>Enhanced Scale</td>
<td>Secure, High Performance</td>
</tr>
<tr>
<td>Apps</td>
<td>10</td>
<td>100</td>
<td>Unlimited</td>
<td>Unlimited</td>
<td>Unlimited</td>
<td>Unlimited</td>
</tr>
<tr>
<td>Disk Space</td>
<td>1 GB</td>
<td>1 GB</td>
<td>10 GB</td>
<td>50 GB</td>
<td>250 GB</td>
<td>1 TB</td>
</tr>
<tr>
<td>Autoscale</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>yes</td>
<td>yes</td>
<td>yes</td>
</tr>
<tr>
<td>Deployment Slots</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>5</td>
<td>20</td>
<td>20</td>
</tr>
<tr>
<td>Max Instances</td>
<td>-</td>
<td>-</td>
<td>3</td>
<td>10</td>
<td>30</td>
<td>100</td>
</tr>
</tbody>
</table>
<p>The App Service Plan is the scale unit for the apps. Apps in the Service Plan run on all VM instances configured by the Plan or the autoscale (scale-out) settings. Scaling up or down is achieved by changing the pricing tier of the plan.</p>
<p>Because the App Service Plan determines the resources available, you can save money by running
multiple apps in the same App Service Plan. You may want to consider having multiple plans
to reflect the resource requirements of your apps or to isolate sensitive or 
resource-hungry apps. </p>
<p>Use <code>az appservice plan list</code> to view App Service Plans. </p>
<h2 id="app-deployment">App Deployment</h2>
<p>App Service supports both automated (continuous integration) or manual deployment. Automated 
deployments can run from Azure DevOps, GitHub or BitBucket. Azure DevOps allows you to:</p>
<ul>
<li>build your code in the cloud</li>
<li>run the tests</li>
<li>generate a release</li>
<li>push your code to an Azure Web App</li>
</ul>
<p>Github deployments will automatically deploy when you push to the production branch
Manual Deployment Methods include:</p>
<ul>
<li>Git: configure a Git URL for the web app and deploy by pushing to the Git URL</li>
<li>CLI: use the <code>az webapp up</code> command to create and package your app and deploy it</li>
<li>Zip: send a zip of your application files using <code>curl</code> or similar command</li>
<li>FTPS: code can be loaded to the App Service using FTP or FTPS</li>
</ul>
<p>You can deploy a static html site from your current working directory using:</p>
<pre><code>az webapp up -g $RESOURCE_GROUP -n $APP_NAME --html
</code></pre>
<p>This command will:</p>
<ul>
<li>Create the resource group if one is not specified</li>
<li>Create a default App Service Plan</li>
<li>Create an app with the specified name</li>
<li>Zip deploy the files from the current working directory</li>
</ul>
<p>Apps are deployed with the following default FQDN: <code>https://${APP_NAME}.azurewebsites.net</code></p>
<p>You can query details for a webapp using <code>az webapp list</code> or <code>az webapp show</code>.</p>
<h2 id="authentication-and-authorisation">Authentication and Authorisation</h2>
<p>App Service provides built-in authentication and authorisation otherwise you can use the
features provides by your web-application framework. App Service uses federated identity supporting
AAD, Facebook, Twitter, Google, or any OpenID provider. The federated providers are configured by 
setting the 'sign-in endpoint' for your app. Multiple providers can be used.
The authentication flow can be configured as a server-directed flow where the user is redirected
to the providers sign-in page or using the provider SDK, where the application handles the sign-in and
returns the authentication token to the app.
App Service can be configured to 'allow unauthenticated requests'. Unauthenticated requests can 
then be handled by your application code. The App Service can also be configured to 'require authentication': in which case you can redirect all unauthenticated requests to the appropriate handler.</p>
<h2 id="networking">Networking</h2>
<p>By default, apps hosted in App Service are accessible via the internet and can communicate with 
internet endpoints. The Isolated SKU hosts apps in an dedicated Azure VNet, but all the other
tiers are hosted on a multi-tenant network. For this reason, you cannot connect the multi-tenant 
app services directly to your network.
App Service apps are distributed applications: incoming http requests are handle by front-end roles; 
application workload is handled by worker roles. Different features are available depending on whether 
traffic is incoming or outgoing for your app:</p>
<ul>
<li>
<p>Inbound Features</p>
<ul>
<li>App-assigned address</li>
<li>Access restrictions</li>
<li>Service endpoints</li>
<li>Private endpoints</li>
</ul>
</li>
<li>
<p>Outbound Features</p>
<ul>
<li>Hybrid Connections</li>
<li>Gateway-required virtual network connection</li>
<li>Virtual network integration</li>
</ul>
</li>
</ul>
<p>The Free, Shared, Basic, Standard and Premium plans all use the same worker VM Type. Premium V2 and 
Premium V3 each use a different worker type. When the worker type is changed during a scale-up or down, 
the outbound IP address is changed. The current outbound IP for your app can be listed in the 
Properties for the app in the portal or by using the following command:</p>
<pre><code>az webapp show -g $RG -n $NAME --query outboundIpAddress
</code></pre>
<p>To find all possible IP addresses for your app, use:</p>
<pre><code>az webapp show -g $RG -n $NAME --query possibleOutboundIpAddresses
</code></pre>
<h2 id="configuring-application-settings">Configuring Application Settings</h2>
<p>In App Service, application settings are passed as environment settings to the application code. 
For Linux apps and Custom Containers, App Service uses the '--env' flag to pass these settings 
to the app. Application settings are configured in the Portal via 
'Configuration &gt; Application Settings'.  This way you can have one environment when 
running the app locally and another environment for your app when running in Azure
The settings in the app configuration are encrypted.
Click 'New Application Setting' to add a new app setting. For nested JSON keys use an underscore
instead of a colon for the name. By clicking 'Advanced' you can add settings in bulk using a 
JSON array.</p>
<pre><code>[
  {
    &quot;name&quot;: &quot;&quot;,
    &quot;value&quot;: &quot;&quot;,
    &quot;slotSetting&quot;: false
  },
  {
    &quot;name&quot;: &quot;&quot;,
    &quot;value&quot;: &quot;&quot;,
    &quot;slotSetting&quot;: false
  },
  ...
]
</code></pre>
<p>For ASP.NET developers, connection strings can also be cofigured in the apps Configuration page. 
For other languages, you may need to set the connection string within the codebase to ensure
correct formatting. However, certain database types are only backed-up with the app if the 
connection is configured in the configuration settings of the app. Connection strings 
can also be bulk-inserted using JSON:</p>
<pre><code>[
  {
    &quot;name&quot;: &quot;&quot;,
    &quot;value&quot;: &quot;&quot;,
    &quot;type&quot;: &quot;SQLServer
    &quot;slotSetting&quot;: false
  },
  {
    &quot;name&quot;: &quot;&quot;,
    &quot;value&quot;: &quot;&quot;,
    &quot;type&quot;: &quot;PostgreSQL&quot;
    &quot;slotSetting&quot;: false
  },
  ...
]
</code></pre>
<h2 id="configuring-general-settings">Configuring General Settings</h2>
<p>General settings for the app can be configured via 'Configuration &gt; General Settings'. These 
include:</p>
<ul>
<li>Stack settings: language, major and minor versions. For container apps you can also set a startup command</li>
<li>
<p>Platform settings:</p>
<ul>
<li>32-bit or 64-bit</li>
<li>Websocket Protocol</li>
<li>Always On: keep the app loaded even when there's no requests. Required by WebJobs or WebJobs triggered by a cron expression. If disabled, app is unloaded after 20 minutes of inactivity</li>
<li>IIS pipeline mode. Set to 'Classic' if you require a legacy version of IIS</li>
<li>HTTP version</li>
<li>ARR affinity: set to 'On' to ensure that the client is routed to the same worker for the duration of the session. Set to 'Off' for stateless applications</li>
</ul>
</li>
<li>
<p>Debugging: used to enable debugging for 48 hours for an ASP or Node app</p>
</li>
<li>Incoming Client Certificates: require client certificates for mutual authentication</li>
</ul>
<h2 id="configuring-path-mappings">Configuring Path Mappings</h2>
<p>Use 'Configuration &gt; Path Mappings' to configure handler mappings, and virtual application and 
directory mappings. In Windows apps, handler mappings can be used to add custom scripts to handle
specific file extensions. Default root-path settings can be changed in Path Mappings. For Linux apps, 
you can add custom storage</p>
<h2 id="diagnostic-logging">Diagnostic Logging</h2>
<p>Application logging tracks logs generated by the application code. Deployment logging tracks 
information concerning app deployment. Application and Deployment logging is available for both 
Windows and Linux apps. Additional logs are available for Windows apps only:
- Web server logging: raw HTTP request data
- Detailed error logging: copies of the .html error pages that would have been sent to the client
- Failed request tracing: detailed tracing information
Application logging for Windows allows you to log to File (for temporary logging over a 12 hour period) or Blob and lets you choose the log level (Disabled, Error, Warning, Information, Verbose). For Linux
apps you set the logging to file system and choose the retention period
Stream logs can be used by writing to the '/LogFiles' directory using '.htm', '.txt', '.log' 
file extensions
Configured log files can be accessed from the Storage Account. For logs stored in the App Service
file system use: https://<app-name>.scm.azurewebsites.net/api/logs/docker/zip (for Linux) or 
https://<app-name>.scm.azurewebsites.net/api/dump (for Windows).</p>
<h2 id="configuring-certificates">Configuring Certificates</h2>
<p>Azure App Service comes with tools for managing private and public certificates. A certificate
uploaded to an app is stored in a deployment unit that is bound to the apps resource-group and 
region combination (referred to as the 'webspace'). The certificate is then accessible to other
apps in the same webspace.
There are various options for adding certificates in App Service:</p>
<ul>
<li>Create a free App Service managed certificate: a private certificate to secure your custom domain in App Service</li>
<li>Purchase an App Service certificate: a private certificate managed by Azure. Provides automated certificate management and renewal</li>
<li>Import a certificate from Key Vault</li>
<li>Upload a private certificate</li>
<li>Upload a public certificate: can't be used with custom domains</li>
</ul>
<p>Use the TLS/SSL settings for your app to enforce HTTPS only</p>
<h2 id="feature-flags">Feature Flags</h2>
<p>Azure App Service supports the use of feature flags to enable or disable features in an 
application. </p>
<h2 id="autoscaling">Autoscaling</h2>
<p>Scale-up increases the amount of CPU, Memory and Disk Space available to your app, and 
therefore requires changing the pricing ter of the App Service Plan. </p>
<p>Scale-out increases the number of VM instances that run your application. </p>
<p>Autoscaling performs scale-in or scale-out and can be triggered by:</p>
<ul>
<li>A schedule</li>
<li>CPU usage</li>
<li>Memory occupancy</li>
<li>Number of incoming requests</li>
<li>A combination of factors</li>
</ul>
<p>Autoscaling monitors the resource metrics of a web app as it runs and responds to changes by
adding or removing web servers and load balancing between them. Autoscaling does not affect the 
resources available to the web servers: only the number of web servers. Autoscaling responds to 
rules that define thresholds to trigger an autoscale event.</p>
<p>Care should be taken when defining autoscale rules: scaling-up in response to a DDoS attack
would be pointless and expensive. Instead, DDoS protection should be enabled to filter such 
attacks.</p>
<p>Autoscaling improves availability and fault-tolerance by ensuring enough servers are available to 
service requests and that crashed servers are replaced. Autoscaling might not help cope with 
resource-instensive requests: scaling-up might be a better response in this case. Autoscaling 
does take time to spin up new instances, and so availability and response time may be affected 
during periods of surge in demand</p>
<p>Autoscale rules can combine both schedules and metric-based rules. Metrics include:</p>
<ul>
<li>CPU Percentage</li>
<li>Memory Percentage</li>
<li>Disk Queue Length</li>
<li>Http Queue Length</li>
<li>Data In</li>
<li>Data OUt</li>
</ul>
<p>Metrics can also be used from other Azure services, e.g Service Bus queue length. Metrics are 
aggregated over a period of time known as a time grain (usually 1 minute). The autoscale event is 
only triggered if the rule crosses the threshold over a time duration (usually 10 minutes). Several
aggregations are available. If the aggregation is MAX, then a single time grain exceeding the 
threshold will be enough to trigger the autoscale. If the aggregation is AVG, then multiple
time grains will need to exceed the threshold to trigger the autoscale for the duration. </p>
<p>Autoscaling can either trigger an incremental increase or decrease or the trigger can set the 
number of instances explicitly. Autoscale rules should be paired: setting the value for when 
to scale-out and when to scale-in in response to a specific metric.
Scaling rules can combine multiple conditions. Scale-out will occur if any scale-out rule is
met: scale-in will occur only if all scale-in rules are met. If you want to scale-in when only
one scale-in rule is met, then you should define the rules separately</p>
<p>Once auto-scaling is enabled for an app, scale conditions can be defined. The default 
condition can be use to define a default scale for the app (e.g. one instance). The default
condition will be applied when no other condition is met, or when there are no metrics
available due to a system crash. Additional 
conditions can be used to define the scale according to a schedule or in response to metrics. 
The conditions allow you to set minimum, maximum and default scales for the app.
Autoscaling activity can be monitored in the 'Run History' tab of the autoscale blade
Thresholds are calculated across instances. Flapping can occur if there is not an adequate
margin between scale-out and scale-in conditions. For instance consider a rule to scale out if 
queue length is &lt;80 and scale-in if queue length is &gt;80. When three instances are running 
with a queue length of 75 if scale-in were to occur the queue length would be &gt;80 for the 
two instances (75 x 3 / 2), so the app would immeadiately have to scale-out again. To avoid 
flapping, autoscale doesn't scale-in when it detects that the scale-out threshold will be 
met if it scales-in. By setting an adequate margin between scale-out and scale-in conditions, 
flapping can be avoided.</p>
<p>Autoscaling logs activity and these can be used to trigger alerts or used by webhook or 
email notifications. Autoscaling logs the following:</p>
<ul>
<li>issue a scale operation</li>
<li>successfully complete a scale action</li>
<li>failed scale action</li>
<li>metrics not available</li>
<li>metrics available again</li>
</ul>
<h2 id="deployment-slots">Deployment Slots</h2>
<p>Standard, Premium and Isolated Service Plans provide Deployment Slots for your application, allowing
the same app to run in different environments. Each slot has it's own hostname. Slots can be swapped, 
allowing you to test a new version of the app before swapping it into production. Slot swapping 
provides the following benefits:</p>
<ul>
<li>validate changes in a development slot before swapping it into the production slot</li>
<li>swapping a development slot into production, means that all instances of the slot are warmed-up before being swapped, thus speeding up the deployment into production</li>
<li>The previous production slot is preserved in the slot is was swapped with, enabling quick failback if errors are found in the new production slot</li>
</ul>
<p>Standard Plans provide 5 deployment slots whereas Premium and Isolatd plans provide up to 20 slots.
New deployment slots have no content, even if you clone them from an existing environment slot. 
You can deploy to the slot from a repository branch or a different repository
When slots are swapped, App Service ensures that the target slot does not experience downtime as 
follows:</p>
<ul>
<li>Apply the following settings from the target to the source slot:<ul>
<li>slot-specific application settings and connection strings</li>
<li>continuous deployment settings</li>
<li>app service authentication settings</li>
</ul>
</li>
<li>Restart source slot instances. If using 'swap with preview' the swap is paused to allow you to validate this phase of the swap. If an instance fails to restart, the changes are reverted and the swap is discontinued</li>
<li>initialise local caches on each instance</li>
<li>trigger application warm-up on each instance in the source slot</li>
<li>swap the two slots by switching the routing rules for the two slots</li>
<li>re-apply the process to the source slot, so that it has a copy of the previous app</li>
</ul>
<p>Since all the activities are applied to the source slot, the target slot experiences minimal 
downtime.</p>
<ul>
<li>
<p>Settings that are NOT swapped (slot specific):</p>
<ul>
<li>Publishing endpoints</li>
<li>Custom domain names</li>
<li>non-public certificates and TLS/SSL settings</li>
<li>Scale settings</li>
<li>WebJobs schedulers</li>
<li>IP restrictions</li>
<li>Always On</li>
<li>Diagnostic log settings</li>
<li>Cross-Origin Resource Sharing (CORS)</li>
</ul>
</li>
<li>
<p>Settings that are swapped:</p>
<ul>
<li>General settings</li>
<li>Handler settings</li>
<li>Public certificates</li>
<li>WebJobs content</li>
</ul>
</li>
<li>
<p>Settings that are swapped but can be configured to NOT swap:</p>
<ul>
<li>App settings</li>
<li>Connection strings
To configure the settings to not swap, select 'deployment slot setting' next to the setting in the configuration page for that slot</li>
</ul>
</li>
<li>
<p>Setting that are currently swapped but planned to be NOT swapped:</p>
<ul>
<li>Hybrid connections</li>
<li>Virtual network integration</li>
<li>Service Endpoints</li>
<li>Azure Content Delivery Network</li>
</ul>
</li>
</ul>
<p>Auto swap can be configured for a slot, so that every time code is pushed to a slot, App Service 
will automatically swap the slot into the target slot. Auto swap is not currently available for 
web apps on Linux
By default, all traffic to the app's production URL are routed to the production slot. You can 
route traffic to another slot by setting the percentage of traffic to be routed to the new slot. 
Information about the slot a request is routed to, can be inspected in the HTTP header by checking
the value of 'x-ms-routing-name'. You can also manually route traffic to a different slot by 
including an 'x-ms-routing-name' link on your website page. New slots are automatically assigned 
a routing percentage of zero. If you set this value to zero explicitly, then developers can 
access the slot using 'x-ms-routing-name' for testing purposes</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>